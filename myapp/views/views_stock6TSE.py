# -*- coding: utf-8 -*-
"""
Created on Mon Apr 18 11:53:09 2022

@author: PCUSER
"""

from django.contrib.auth.decorators import permission_required
from django.views.decorators.csrf import csrf_exempt
from django.shortcuts import render

from myapp.models import Stock6Sign202203
from .views_monthlyAlterStuff import DBfunc 
DBv = DBfunc()


#from .views_monthlyAlterStuff import NowTimeDBs 


#DBv = NowTimeDBs()  #從views_monthlyAlterStuff.py取得每月需要的資料庫變數

#DBv.show() 
#DB = Stock6Sign202203  #每個月更換這裡
DBv.getRightDB()
DB = DBv.z  #每個月的主要資料庫  #y= 上個月 x = 上上個月
@permission_required('myapp.Can_enter_stock6 DB', login_url='/login2/')
def stock6TSE(request):

    
    if request.method == "POST":  #假如是以POST方式才處理
        mess = request.POST['groupid']  #取得表單輸入內容
        



    else:
        mess = "N/A"


    return render(request, "stock6TSE.html", locals())





@permission_required('myapp.Can_enter_stock6 DB', login_url='/login2/')
#def stock6listall202102tse(request, mess):
def stock6listalltse(request, mess):

    
    #上市化學工業
    tse1 = ['1708','1709','1710','1711','1712','1713','1714','1717','1718','1721','1722','1723','1724','1725','1726','1727','1730','1732','1735','1773','1776','3708','4720','4722','4725','4739','4755','4763','4764','4766']
    #上市水泥工業
    tse2 = ['1101','1102','1103','1104','1108','1109','1110']
    #上市紡織工業    
    tse3 = ['1402','1409','1410','1413','1414','1417','1418','1419','1423','1434','1439','1440','1441','1443','1444','1445','1446','1447','1449','1451','1452','1453','1454','1455','1456','1457','1459','1460','1463','1464','1465','1466','1467','1468','1470','1472','1473','1474','1475','1476','1477','4414','4426','4438','4439']
    #上市半導體工業    
    tse4 = ['2302','2303','2329','2330','2337','2338','2342','2344','2351','2363','2369','2379','2388','2401','2408','2434','2436','2441','2449','2451','2454','2458','2481','3006','3014','3016','3034','3035','3041','3054','3094','3189','3257','3413','3443','3530','3532','3536','3545','3583','3588','3661','3686','3711','4919','4952','4961','4967','4968','5269','5285','5305','5471','6202','6239','6243','6257','6271','6415','6451','6525','6531','6533','6552','6573','8016','8028','8081','8110','8131','8150','8261','8271']
    #上市生技醫療業    
    tse5 = ['1598','1701','1707','1720','1731','1733','1734','1736','1760','1762','1783','1786','1789','1795','3164','3705','4104','4106','4108','4119','4133','4137','4141','4142','4144','4148','4155','4164','4190','4737','4746','6491','6541','6598','6666']
    #上市光電業    
    tse6 = ['2323','2340','2349','2374','2393','2406','2409','2426','2438','2448','2466','2486','2489','2491','2499','3008','3019','3024','3031','3038','3049','3050','3051','3059','3149','3356','3383','3406','3437','3454','3481','3504','3535','3543','3563','3576','3591','3622','3669','3673','3698','4934','4935','4942','4956','4960','4976','5234','5243','5484','6116','6120','6131','6164','6168','6176','6209','6225','6226','6278','6289','6405','6431','6443','6456','6477','6668','6706','8104','8105','8215']
    #上市汽車業    
    tse7 = ['1319','1338','1339','1512','1521','1522','1524','1525','1533','1536','1568','1587','1592','2115','2201','2204','2206','2207','2227','2228','2231','2233','2236','2239','2243','2497','3346','4551','4557','4581','6288','6605']
    #上市其他     
    tse8 = ['1416','1435','1437','1516','2062','2348','2358','2443','2496','2514','2904','3040','3557','4536','5284','5871','6184','6464','6504','6581','6592','6625','6641','6655','6670','6671','6754','8033','8341','8404','8411','8422','8427','8442','8463','8464','8466','8467','8473','8478','8480','8481','8482','8488','8497','8499','9802','9902','9904','9905','9907','9910','9911','9914','9917','9919','9921','9924','9925','9927','9928','9929','9930','9933','9934','9935','9938','9939','9940','9941','9942','9944','9945','9955']
    #上市其他電子    
    tse9 = ['2312','2317','2354','2359','2360','2373','2390','2404','2423','2433','2461','2464','2474','2477','2482','2488','2495','3018','3030','3043','3305','3450','3518','3617','3665','5225','6139','6192','6196','6201','6215','6283','6409','6558','6698','8021','8201']
    #上市油電燃氣業    
    tse10 = ['2616','6505','8926','9908','9918','9926','9931','9937']


    #上市玻璃陶瓷
    tse11 = ['1802','1806','1809','1810','1817']
    #上市食品工業
    tse12 = ['1201','1203','1210','1213','1215','1216','1217','1218','1219','1220','1225','1227','1229','1231','1232','1233','1234','1235','1236','1256','1702','1737']
    #上市航運業    
    tse13 = ['2208','2603','2605','2606','2607','2608','2609','2610','2611','2612','2613','2615','2617','2618','2630','2633','2634','2636','2637','2642','5607','5608','8367']
    #上市通信網路 
    tse14 = ['2314','2321','2332','2345','2412','2419','2439','2444','2450','2455','2485','2498','3025','3027','3045','3047','3062','3311','3380','3419','3596','3682','3694','3704','4904','4906','4977','5388','6136','6142','6152','6216','6285','6416','6442','6674','8011','8101']
    #上市造紙工業   
    tse15 = ['1903','1904','1905','1906','1907','1909','1432']
    #上市貿易百貨    
    tse16 = ['1432','2601','2614','2901','2903','2905','2906','2908','2910','2911','2912','2913','2915','2929','2936','2939','4807','5906','5907','8429','8443','8454']
    #上市塑膠工業   
    tse17 = ['1301','1303','1304','1305','1307','1308','1309','1310','1312','1313','1314','1315','1321','1323','1324','1325','1326','1337','1340','1341','4306']
    #上市資訊服務   
    tse18 = ['2427','2453','2468','2471','2480','3029','3130','4994','5203','6112','6183','6214']
    #上市電子通路 
    tse19 = ['2347','2414','2430','2459','3010','3028','3033','3036','3048','3055','3209','3312','3528','3702','5434','6189','6281','8070','8072','8112']
    #上市電子零組件 
    tse20 = ['1471','1582','2059','2308','2313','2316','2327','2328','2355','2367','2368','2375','2383','2385','2392','2402','2413','2415','2420','2421','2428','2429','2431','2440','2456','2457','2460','2462','2467','2472','2476','2478','2483','2484','2492','2493','3003','3011','3015','3021','3023','3026','3032','3037','3042','3044','3058','3090','3229','3296','3308','3321','3338','3376','3432','3501','3533','3550','3593','3605','3607','3645','3653','3679','4545','4912','4915','4927','4943','4958','4989','4999','5469','6108','6115','6133','6141','6153','6155','6165','6191','6197','6205','6213','6224','6251','6269','6282','6412','6449','6672','6715','8039','8046','8103','8213','8249']

    #上市電腦及週邊設備業
    tse21 = ['2301','2305','2324','2331','2352','2353','2356','2357','2362','2364','2365','2376','2377','2380','2382','2387','2395','2397','2399','2405','2417','2424','2425','2442','2465','3002','3005','3013','3017','3022','3046','3057','3060','3231','3416','3494','3515','3701','3706','3712','4916','4938','5215','5258','5264','6117','6128','6166','6172','6206','6230','6235','6277','6414','6579','6591','6669','8114','8163','8210','9912','3645','3653','3679','4545','4912','4915','4927','4943','4958','4989','4999','5469','6108','6115','6133','6141','6153','6155','6165','6191','6197','6205','6213','6224','6251','6269','6282','6412','6449','6672','6715','8039','8046','8103','8213','8249']
    #上市電器電纜
    tse22 = ['1603','1604','1605','1608','1609','1611','1612','1614','1615','1616','1617','1618','1626','4930','5283']
    #上市電機機械    
    tse23 = ['1503','1504','1506','1507','1513','1514','1515','1517','1519','1526','1527','1528','1529','1530','1531','1532','1535','1537','1538','1539','1540','1541','1558','1560','1583','1589','1590','2049','2241','2371','3167','4526','4532','4540','4552','4555','4560','4562','4564','4566','4571','4572','4576','5288','8222','8374','8996']
    #上市橡膠工業
    tse24 = ['2101','2102','2103','2104','2105','2106','2107','2108','2109','2114','6582']
    #上市鋼鐵工業   
    tse25 = ['2002','2006','2007','2008','2009','2010','2012','2013','2014','2015','2017','2020','2022','2023','2024','2025','2027','2028','2029','2030','2031','2032','2033','2034','2038','2069','3004','5007','5538','9958']
    #上市觀光事業    
    tse26 = ['2701','2702','2704','2705','2706','2707','2712','2722','2723','2727','2731','2739','2748','5706','8462','8940','9943']



    if (mess == "tse1"):
        Xgroup = '上市化學工業'
        signs = DB.objects.filter(cStockID__in = tse1).order_by('-cAverageScore')                
    elif (mess == "tse2"):
        Xgroup = '上市水泥工業'
        signs = DB.objects.filter(cStockID__in = tse2).order_by('-cAverageScore')
    elif (mess == "tse3"):
        Xgroup = '上市紡織工業'
        signs = DB.objects.filter(cStockID__in = tse3).order_by('-cAverageScore')
    elif (mess == "tse4"):
        Xgroup = '上市半導體工業'
        signs = DB.objects.filter(cStockID__in = tse4).order_by('-cAverageScore')
    elif (mess == "tse5"):
        Xgroup = '上市生技醫療業'
        signs = DB.objects.filter(cStockID__in = tse5).order_by('-cAverageScore')
    elif (mess == "tse6"):
        Xgroup = '上市光電業'
        signs = DB.objects.filter(cStockID__in = tse6).order_by('-cAverageScore')
    elif (mess == "tse7"):
        Xgroup = '上市汽車業'
        signs = DB.objects.filter(cStockID__in = tse7).order_by('-cAverageScore')
    elif (mess == "tse8"):
        Xgroup = '上市其他'
        signs = DB.objects.filter(cStockID__in = tse8).order_by('-cAverageScore')
    elif (mess == "tse9"):
        Xgroup = '上市其他電子'
        signs = DB.objects.filter(cStockID__in = tse9).order_by('-cAverageScore')
    elif (mess == "tse10"):
        Xgroup = '上市油電燃氣業'
        signs = DB.objects.filter(cStockID__in = tse10).order_by('-cAverageScore')


    elif (mess == "tse11"):
        Xgroup = '上市玻璃陶瓷'
        signs = DB.objects.filter(cStockID__in = tse11).order_by('-cAverageScore')                
    elif (mess == "tse12"):
        Xgroup = '上市食品工業'
        signs = DB.objects.filter(cStockID__in = tse12).order_by('-cAverageScore')
    elif (mess == "tse13"):
        Xgroup = '上市航運業'
        signs = DB.objects.filter(cStockID__in = tse13).order_by('-cAverageScore')
    elif (mess == "tse14"):
        Xgroup = '上市通信網路'
        signs = DB.objects.filter(cStockID__in = tse14).order_by('-cAverageScore')
    elif (mess == "tse15"):
        Xgroup = '上市造紙工業'
        signs = DB.objects.filter(cStockID__in = tse15).order_by('-cAverageScore')
    elif (mess == "tse16"):
        Xgroup = '上市貿易百貨'
        signs = DB.objects.filter(cStockID__in = tse16).order_by('-cAverageScore')
    elif (mess == "tse17"):
        Xgroup = '上市塑膠工業'
        signs = DB.objects.filter(cStockID__in = tse17).order_by('-cAverageScore')
    elif (mess == "tse18"):
        Xgroup = '上市資訊服務'
        signs = DB.objects.filter(cStockID__in = tse18).order_by('-cAverageScore')
    elif (mess == "tse19"):
        Xgroup = '上市電子通路'
        signs = DB.objects.filter(cStockID__in = tse19).order_by('-cAverageScore')
    elif (mess == "tse20"):
        Xgroup = '上市電子零組件'
        signs = DB.objects.filter(cStockID__in = tse20).order_by('-cAverageScore')


    elif (mess == "tse21"):
        Xgroup = '上市電腦及週邊設備業'
        signs = DB.objects.filter(cStockID__in = tse21).order_by('-cAverageScore')                
    elif (mess == "tse22"):
        Xgroup = '上市電器電纜'
        signs = DB.objects.filter(cStockID__in = tse22).order_by('-cAverageScore')
    elif (mess == "tse23"):
        Xgroup = '上市電機機械'
        signs = DB.objects.filter(cStockID__in = tse23).order_by('-cAverageScore')
    elif (mess == "tse24"):
        Xgroup = '上市橡膠工業'
        signs = DB.objects.filter(cStockID__in = tse24).order_by('-cAverageScore')
    elif (mess == "tse25"):
        Xgroup = '上市鋼鐵工業'
        signs = DB.objects.filter(cStockID__in = tse25).order_by('-cAverageScore')
    elif (mess == "tse26"):
        Xgroup = '上市觀光事業'
        signs = DB.objects.filter(cStockID__in = tse26).order_by('-cAverageScore')



    return render(request, "stock6listalltse.html", locals())
